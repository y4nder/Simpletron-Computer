# Internal Documentation: Simpletron Argument Parser

[Linked Table of Contents](#table-of-contents)

## Table of Contents <a name="table-of-contents"></a>

* [1. Overview](#overview)
* [2. Class `ArgumentFactory`](#class-argumentfactory)
    * [2.1 Method `DEFAULT_ARGUMENTS()`](#method-defaultarguments)


## 1. Overview <a name="overview"></a>

This document details the implementation of the `ArgumentFactory` class, responsible for parsing command-line arguments for the Simpletron script execution.  The parser utilizes the `argparse` module for efficient and user-friendly argument handling.


## 2. Class `ArgumentFactory` <a name="class-argumentfactory"></a>

The `ArgumentFactory` class provides a single method, `DEFAULT_ARGUMENTS()`, to handle the parsing of command-line arguments.


### 2.1 Method `DEFAULT_ARGUMENTS()` <a name="method-defaultarguments"></a>

This method constructs and returns a parsed `Namespace` object containing the command-line arguments.

**Function Signature:**

```python
DEFAULT_ARGUMENTS() -> argparse.Namespace
```

**Functionality:**

1. **ArgumentParser Creation:** An `argparse.ArgumentParser` object is created with the description "run simpletron script". This description is displayed in the help message generated by the parser.

2. **Argument Definition:** The parser defines two arguments:
    * **`filename`:** This is a positional argument (required) representing the name of the Simpletron script file. It's of type `str` and requires a `.sml` extension as indicated in the help message.
    * **`-s` or `--s`:** This is an optional argument (`action="store_true"`).  If present on the command line, it sets the corresponding attribute in the returned namespace to `True`. This flag indicates the program should be run in single-step mode.

3. **Argument Parsing:** `argsParser.parse_args()` parses the command-line arguments based on the definitions above.  It automatically handles argument processing and error messages for invalid inputs.

4. **Return Value:** The method returns the `argparse.Namespace` object containing the parsed arguments.  This object can be accessed using the attribute names defined in step 2 (`filename`, `s`).


**Algorithm:**

The algorithm is straightforward and relies entirely on the `argparse` module's functionality.  No custom parsing logic is implemented. The core steps are:

1. Create an `ArgumentParser` instance.
2. Add arguments using `add_argument()`.
3. Parse arguments using `parse_args()`.
4. Return the parsed arguments.

**Example Usage:**

To run the script with the file `myprogram.sml` in single-step mode, the command line would be:

```bash
python myprogram.py myprogram.sml -s
```

This would result in a `Namespace` object with `filename = "myprogram.sml"` and `s = True`.  If `-s` is omitted, `s` would be `False`.  If `myprogram.sml` is omitted, an error will be raised by `argparse` because `filename` is required.


**Error Handling:**

Error handling is implicitly managed by the `argparse` module.  Invalid arguments, missing required arguments, or incorrect argument types will result in informative error messages being printed to the console and the program exiting.  No explicit error handling is implemented within the `DEFAULT_ARGUMENTS` method itself.
